#!/usr/bin/env bash
# Autonomous Auditor Policy - Global CLI Entry Point
# Automatically uses the project's virtual environment

# Get the real path of this script (follow symlinks)
SCRIPT_PATH="$(readlink -f "${BASH_SOURCE[0]}")"
AUDITOR_DIR="$(dirname "$SCRIPT_PATH")"
VENV_PYTHON="$AUDITOR_DIR/.venv/bin/python"

# Use virtual environment if it exists
if [ -f "$VENV_PYTHON" ]; then
    exec "$VENV_PYTHON" "$AUDITOR_DIR/policy.py" "$@"
else
    # Fallback to system python
    exec python3 "$AUDITOR_DIR/policy.py" "$@"
fi
